<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tickets Complex Table Update Rows - Dell Design System</title>
    <link href="https://www.dell.com/favicon.ico" rel="shortcut icon" type="image/x-icon" />
    <link rel="stylesheet" href="https://uicore.dellcdn.com/1.6.0/css/dds-reboot.min.css" />
    <link rel="stylesheet" href="https://uicore.dellcdn.com/1.6.0/css/dds-all-with-fonts.min.css" />
  </head>
  <body>
    <div id="dds__full-screen-overlay" class="dds__overlay"></div>
    <main>
      <div class="dds__container dds__mt-5">
        <div class="dds__row">
          <div class="dds__col dds__mb-5">
            <button id="newRowsButton" role="button" class="dds__btn dds__btn-primary dds__mr-2">New Rows</button>
          </div>
        </div>
        <div class="dds__row">
          <div class="dds__col">
            <table id="exampleTable" data-table="dds__table" class="dds__table dds__table-hover dds__table-cmplx">
              <caption class="dds__sr-only">
                A Complex Tables
                <span>Table used to display User information</span>
              </caption>
            </table>
            <nav
              id="examplePagination"
              class="dds__pagination dds__pagination-justified-filter"
              data-toggle="dds__pagination"
              aria-label="pagination"
            ></nav>
          </div>
        </div>
      </div>
    </main>

    <script src="https://uicore.dellcdn.com/1.6.0/js/index.min.js"></script>
    <script>
      UIC.loadURLSVGs([
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__filter.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__search.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__import-alt.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__handle.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__chevron-right.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__chevron-left.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__loading-sqrs.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__chevron-right.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__arrow-tri-solid-right.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__printer.svg",
        "https://uicore.dellcdn.com/1.6.0/svgs/dds__gear.svg",
      ]);

      var options = {
        showData: false,
        exportShowWarning: false,
        search: true,
        select: true,
        settings: true,
        sort: true,
        expand: false,
        rearrangeableColumns: true,
        fixedColumns: true,
        fixedHeight: true,
        header: true,
        perPageSelect: [10, 20, 40, 80, 100],
        perPage: 10,
        data: {
          headings: ["Name", "Company", "Extension", "Start Date", "Email", "Phone", "Link"],
          columns: [
            { select: 0, sort: "asc", fixed: true },
            { select: [1, 2], fixed: true },
            { select: 3, type: "date", format: "MM/DD/YYYY", sortable: true },
          ],
          rows: [],
        },
      };

      var names = ["Philip", "Jefferson", "Anderson", "Joseph", "Felipe", "Alice", "Catherine", "Jared"];
      var surnames = ["Johnson", "Golveia", "Aguiar", "Coquembach", "Doe", "Phillips", "Chamberlain", "de Bouer"];

      function getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min) + min);
      }

      function getRows(number, name) {
        var rows = [];
        for (var i = 0; i < number; i++) {
          var a =
            name || names[getRandomInt(0, names.length - 1)] + " " + surnames[getRandomInt(0, surnames.length - 1)];
          rows.push({
            data: [
              `<button>${a}</button>`,
              "Eget Incorporated",
              "9557#" + i,
              "07/18/2017",
              "Nullam.vitae@egestas.edu",
              "0800 025698",
              "<a href=&#39;//www.dell.com&#39;>Dell Home Page</a>",
            ],
            details: "Genevieve U. Watts details",
          });
        }

        return rows;
      }

      // Initialize Table
      var exampleTable = document.getElementById("exampleTable");
      var exampleTableInstance = new UIC.Table(exampleTable, {
        ...options,
        data: { ...options.data, rows: getRows(30) },
      });

      // Get pagination instance too
      var examplePagination = document.getElementById("examplePagination");

      var newRowsButton = document.getElementById("newRowsButton");
      newRowsButton.addEventListener("click", function () {
        exampleTableInstance.deleteAll();
        exampleTableInstance.import({ ...options, data: { ...options.data, rows: getRows(40) } });
        exampleTableInstance.setItems(40);
        examplePagination.Pagination.page(1);
      });
    </script>
  </body>
</html>
